<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    <title>Admin User</title>
    <link rel="stylesheet" href="assets/css/admin.css">
    <link rel="icon" type="image/png" href="assets/images/pic/logoicon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">
</head>
<body>
   <input type="checkbox" id="menu-toggle">
    <div class="sidebar">
        <div class="side-header">
        
        </div>
        
        <div class="side-content">
            <div class="profile">
                <div class="profile">
                    <ion-icon name="water-outline" style="font-size: 40px; color:white;"></ion-icon>
                    <h4>H20</h4>
                   
                </div>
            </div>

            <div class="side-menu">
                <ul>
                   
                    <li>
                        <a href="admin-strator.html">
                             <span class="las la-address-card"></span>
                             <small>Administrator</small>
                         </a>
                     </li>
                    <li >
                       <a href="admin-user.html">
                            <span class="las la-user-alt" style="color: #fff;"></span>
                            <small style="color: #fff;">Customers</small>
                        </a>
                    </li>
                 
                    <li>
                       <a href="admin-product.html">
                            <span class="las la-clipboard-list"></span>
                            <small>Products</small>
                        </a>
                    </li>
                    <li>
                       <a href="admin-order.html">
                            <span class="las la-shopping-cart"></span>
                            <small>Orders</small>
                        </a>
                    </li>
                
              
                </ul>
            </div>
        </div>
    </div>
    
    <div class="main-content">
        
        <header>
            <div class="header-content">
                <label for="menu-toggle" id="bar-admin">
                    <span class="las la-bars" style="font-size: 28px; margin-top: 8px;"></span>
                </label>
                
                <div class="header-menu">
                    <label for="">
                    
                    </label>
                    
                    <div class="notify-icon">
                        <span class="las la-envelope"></span>
                        <span class="notify">4</span>
                    </div>
                    
                    <div class="notify-icon">
                        <span class="las la-bell"></span>
                        <span class="notify">3</span>
                    </div>
                    
                    <div class="user" style="margin-right: 8px;">
                      
                        
                        <span style="font-size: 25px;cursor: pointer;" class="las la-power-off" onclick="window.location.href='login-admin.html'"></span>
                        <span style="font-size: 20px; cursor: pointer;" onclick="window.location.href='login-admin.html'">Logout</span>
                    </div>
                </div>
            </div>
        </header>



        <div class="page-content" style="margin-top: 50px;">
            <h1 style="padding: 1.3rem 0rem;color: #74767d;" id="customer">Customers</h1>
            <div >
                <button style="margin-bottom: 8px;" id="showadd" onclick="showadd()"><i class="fa-solid fa-circle-plus" style="margin-right: 4px;"></i>  Add User</button>
                       
        </div>
        </div>

            <div class="records table-responsive" >
           
                <div class="record-header">

                    <div class="browse">
                       <input type="search" placeholder="Search (#ID)" class="record-search">
                     
                    </div>

                    <div class="add">
                        <span>Entries</span>
                    <select name="" id="">
                        <option value="">10</option>
                        <option value="">16</option>
                        <option value="">20</option>
                    </select> 
                    </div>

                </div>

                <div>
                    <table width="100%" id="table-user">
                        <thead>
                            <tr id="select-filter">
                                <th>ID USER</th>
                                <th>FULL NAME</th>
                                <th>EMAIL</th>
                           
                                <th>BIRTHDAY</th>
                                <th>ADDRESS</th>
                               
                                <th>STATUS</th>
                                <th> ACTION</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
<td>#USER125</td>
<td>Andrew Bruno</td>
<td>bruno@crossover.org</td>

<td>1999-05-19</td>
<td>45 Beaver St</td>

                                <td>
Normal                          
                                </td>
                                <td>
                                    <div class="actions">
                                        <span class="las la-edit"></span>
                                        <span class="las la-lock"></span>
                                    </div>
                                  </td>
                            </tr>
                       
                            <tr>
<td>#USER508</td>
<td>Exty Bruno</td>
<td>exty@crossover.org</td>

<td>2002-09-10</td>
<td>95 Starrs Rd</td>

                                <td>
Normal                                  
                                </td>
                                <td>
                                    <div class="actions">
                                        <span class="las la-edit"></span>
                                        <span class="las la-lock"></span>
                                    </div>
                                  </td>
                            </tr>
                            <tr>
<td>#USER781</td>
<td>Marilyn N. Relyea</td>
<td>Majk@gmail.com</td>

<td>2004-05-01</td>
<td>16 Dietmar-Hopp-Allee </td>

                                <td>
Normal                       
                                </td>
                                <td>
                                    <div class="actions">
                                     
                                        <span class="las la-edit"></span>
                                        <span class="las la-lock"></span>
                                    </div>
                                  </td>
                            </tr>
                            <tr>
<td>#USER150</td>
<td>Christine K. Waddle</td>
<td>Christine45@crossover.org</td>

<td>1992-11-15</td>
<td>257 Avenue</td>                      
                                <td>
Normal                              
                                </td>
                                <td>
                                    <div class="actions">
                                        <span class="las la-edit"></span>
                                        <span class="las la-lock"></span>
                                    </div>
                                  </td>
                            </tr>
                            <tr>
<td>#USER259</td>
<td>Clarence A. Morgan</td>  
<td>ClarMor1990@crossover.org</td>                                 

<td>2001-12-05</td>                                    
<td>370 Memorial</td>                                        
                                                                                                    
                                <td>
Normal                            
                                </td>
                                <td>
                                    <div class="actions">
                                        <span class="las la-edit"></span>
                                        <span class="las la-lock"></span>
                                    </div>
                                  </td>
                            </tr>

                            <tr>
<td>#USER121</td>
<td>Michael L. Williams</td>
<td>michael152004@crossover.org</td>
                                   
<td>1998-01-12</td>                                        
<td>37 Royal Terrace</td>                                   
 
                                <td>
Normal
                                </td>
                                <td>
                                    <div class="actions">
                                        <span class="las la-edit"></span>
                                        <span class="las la-lock"></span>
                                    </div>
                                  </td>
                            </tr>
                       
                     
                            
                        </tbody>
                    </table>

                    <ul class="pagination" id="pagination">
                        <li onclick="prevPage()">Prev</li>
                       <li class="active">1</li>
                        <li onclick="nextPage()">Next</li>
                      </ul>
                </div>

            </div>
        
    

</main>

<div id="container-inputs">

    <div class="user-tab">
      <h1>ADD USER</h1>
    <i class="fa-solid fa-xmark" id="closeadd" onclick="hideadd()"></i>
  
    
                  <div class="user-input" style="margin-top: 30px;">  
                      <label>Full Name:</label>
  <input type="text" name="fname" id="fname">
               </div>
  
               <div class="user-input">
                  <label>Email:</label>
                  <input type="text" name="email" id="email"> 
          </div>
      
            <div class="user-input">
              <label>Birthday:</label>
            <input type="date" name="birth" id="birth">
  
       </div>
                 <div class="user-input">
                  <label>Address:</label>
                     <input type="text" name="address" id="address">
  
                 </div>
            
           <div class="user-input" style="display: none;">
              Status:<input type="text" name="status" id="status" ></input>
            </div>
  
            <div class="user-input" style="display: none;">
              Action:<input type="text" name="action" id="action">    
        </div>
  
  <div style="text-align: center;" id="button-submit">
    <button>Submit</button>

  </div>
  </div>
  </html>

<script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>


<script>
      window.addEventListener("DOMContentLoaded", function() {
        var predefinedContent = 'Normal';
        document.getElementById("status").value = predefinedContent;
      });
      window.addEventListener("DOMContentLoaded", function() {
        var predefinedContent = '  <div class="actions"><span class="lab la-telegram-plane"></span><span class="las la-edit"></span><span class="las la-trash"></span></div>';
        document.getElementById("action").value = predefinedContent;
      });
    
        var rIndex,
            table = document.getElementById("table-user");

        function checkEmptyInput()
        {
            var isEmpty = false,
            iduser = document.getElementById("id-user").value,
            fname = document.getElementById("fname").value,
            email = document.getElementById("email").value,
               
               birth = document.getElementById("birth").value,
                address = document.getElementById("address").value, 
                status = document.getElementById("status").value,          
                action= document.getElementById("action").value;
                if(iduser === ""){
                    alert("Please fill in");
                isEmpty = true;
            }
            else if(fname === ""){
                alert("Please fill in");
                isEmpty = true;
            }
            else if(email === ""){
                alert("Please fill in");
                isEmpty = true;
            }
         
            else if(birth === ""){
                alert("Please fill in");
                isEmpty = true;
            }
            else if(address === ""){
                alert("Please fill in");
                isEmpty = true;
            }
         
            return isEmpty;
        }

        function addHtmlTableRow()
        {
          
            if(!checkEmptyInput()){
            var newRow = table.insertRow(table.length),
                cell1 = newRow.insertCell(0),
                cell2 = newRow.insertCell(1),
                cell3 = newRow.insertCell(2),
                cell4 = newRow.insertCell(3),
                cell5 = newRow.insertCell(4),
                cell6 = newRow.insertCell(5),
                cell7 = newRow.insertCell(6),
                iduser = document.getElementById("id-user").value,
                fname = document.getElementById("fname").value,
                email = document.getElementById("email").value,
               birth = document.getElementById("birth").value,
                address = document.getElementById("address").value,
                status = document.getElementById("status").value,
                action = document.getElementById("action").value;
                cell1.innerHTML = iduser;
                cell2.innerHTML = fname;
                cell3.innerHTML = email;
            cell4.innerHTML =  birth;
            cell5.innerHTML =address;
            cell6.innerHTML = status;
            cell7.innerHTML = action;
    
            selectedRowToInput();
        }
        resetForm();
        }


        function blockUser() {
  var currentRow = table.rows[rIndex];
  var confirmation = confirm("Are you sure you want to block this user?");
  if (confirmation) {
    currentRow.cells[5].innerHTML = "Blocked";
    currentRow.cells[5].style.color = "red";
    editButton.innerHTML = 'Edit <span class="las la-edit"></span>'; 
    const addButton = document.querySelector('button[onclick="addHtmlTableRow();"]');
      if (addButton.disabled) {
        addButton.disabled = false;
                };
                editButton.disabled = true; 
                document.getElementById("blockButton").disabled=true;
                document.getElementById("blockButton1").disabled=true;
                addButton.style.visibility = 'visible';
              editButton.style.visibility = 'hidden';
              document.getElementById("blockButton").style.visibility= 'hidden';
              document.getElementById("blockButton1").style.visibility= 'hidden';
    resetForm();
  }
  else {
         event.preventDefault();
       
       }
}

document.getElementById("blockButton").addEventListener("click", blockUser);

function unblockUser() {
  var currentRow = table.rows[rIndex];
  var confirmation = confirm("Are you sure you want to unblock this user?");
  if (confirmation) {
    currentRow.cells[5].innerHTML = "Normal";
    currentRow.cells[5].style.color = "black";

    const addButton = document.querySelector('button[onclick="addHtmlTableRow();"]');
      if (addButton.disabled) {
        addButton.disabled = false;
                };
                editButton.disabled = true; 
                document.getElementById("blockButton").disabled=true;
                document.getElementById("blockButton1").disabled=true;
                addButton.style.visibility = 'visible';
              editButton.style.visibility = 'hidden';
              document.getElementById("blockButton").style.visibility= 'hidden';
              document.getElementById("blockButton1").style.visibility= 'hidden';
    resetForm();
  }
  else { 
         event.preventDefault();     
       }
}
document.getElementById("blockButton1").addEventListener("click", unblockUser);
 



function selectedRowToInput()
        {
            
            for(var i = 1; i < table.rows.length; i++)
            {
                table.rows[i].onclick = function()
                {
            
                  rIndex = this.rowIndex;
                  document.getElementById("id-user").value = this.cells[0].innerHTML;
                  document.getElementById("fname").value = this.cells[1].innerHTML;
                  document.getElementById("email").value = this.cells[2].innerHTML;
                 
                  document.getElementById("birth").value = this.cells[3].innerHTML;
                  document.getElementById("address").value = this.cells[4].innerHTML;
              
                  const addButton = document.querySelector('button[onclick="addHtmlTableRow();"]');
      if (!addButton.disabled) {
        addButton.disabled = true;
                };
                const editButton = document.getElementById('editButton');
                addButton.style.visibility= 'hidden';
              editButton.style.visibility = 'visible';
              document.getElementById("blockButton").style.visibility= 'visible';
              document.getElementById("blockButton1").style.visibility= 'visible';
                editButton.disabled = false; 
                document.getElementById("blockButton").disabled=false;
                document.getElementById("blockButton1").disabled=false;
              editButton.innerHTML = 'Update <span class="las la-check"></span>'; 
            }
        }
    }
        selectedRowToInput();
        
        function editHtmlTbleSelectedRow()
        {
            var   iduser = document.getElementById("id-user").value,
            fname = document.getElementById("fname").value,
            email = document.getElementById("email").value,
               birth = document.getElementById("birth").value,
                address = document.getElementById("address").value,
               status = document.getElementById("status").value,
               action = document.getElementById("action").value;
           if(!checkEmptyInput()){
            table.rows[rIndex].cells[0].innerHTML = iduser;
            table.rows[rIndex].cells[1].innerHTML = fname;
            table.rows[rIndex].cells[2].innerHTML = email;
            table.rows[rIndex].cells[3].innerHTML = birth;
            table.rows[rIndex].cells[4].innerHTML = address;
            
          }
          resetForm();
          const addButton = document.querySelector('button[onclick="addHtmlTableRow();"]');
      if (addButton.disabled) {
        addButton.disabled = false;
                };
                const editButton = document.getElementById('editButton');
              
              addButton.style.visibility = 'visible';
              editButton.style.visibility = 'hidden';
              document.getElementById("blockButton").style.visibility= 'hidden';
              document.getElementById("blockButton1").style.visibility= 'hidden';
              editButton.disabled = true; 
                document.getElementById("blockButton").disabled=true;
                document.getElementById("blockButton1").disabled=true;
        }
        
        function removeSelectedRow()
        {
            if (rIndex > 0) {
        var result = confirm("Are you sure you want to delete?");
        if (result == true) {
          table.deleteRow(rIndex);
        } else {
         
          event.preventDefault();
        }
      }
        
            document.getElementById("id-user").value = "";
            document.getElementById("fname").value = "";
            document.getElementById("email").value = "";
           
            document.getElementById("birth").value = "";
            document.getElementById("address").value = "";
       
        }
        function resetForm() {
            document.getElementById("id-user").value = "";
            document.getElementById("fname").value = "";
            document.getElementById("email").value = "";
         
            document.getElementById("birth").value = "";
            document.getElementById("address").value = "";
     
  
}
        
    </script>


<script>
    const htmlElement = document.querySelector('html');
      const containerinputs=document.querySelector('#container-inputs');
      const usertab = document.querySelector('.usertab');
     function showadd(){
        containerinputs.style.display="block";
        usertab.style.display="block";
        htmlElement.style.overflow = 'hidden';
      }
      function hideadd(){
        var container = document.getElementById('container-inputs');
    var inputs = container.querySelectorAll('input, select, textarea');

    inputs.forEach(function (input) {
        if (input.type !== 'button') {
            input.value = '';
        }
    });
        containerinputs.style.display="none";
        usertab.style.display="none";
        htmlElement.style.overflow = 'auto';
      }
        </script>
    

